---
layout: post
title: 实现微服务的思路
category: 技术
keywords: 策略,golang,架构,微服务,后端,设计,模式
comments:  true
---

本文为[<3 Strategies for implementing a microservices architecture>](https://about.gitlab.com/2019/06/17/strategies-microservices-architecture/)
的翻译理解。原文标题：《实现微服务架构的三种策略》，篇幅较短。

## The strangler method 扼杀策略

这个策略来自于马丁福勒在澳大利亚的一次旅行。

> 在澳大利亚有一个神奇的现象，就是千字百态的巨型藤蔓。
他们从无花果树枝上发芽，然后一路向下知道扎根到了地下的泥土。
在编制奇异形态的同时，他们也慢慢杀死他们的宿主。

这个听上去很残忍，但也是一种的组织有效转变的过程，一个大型的独立应用，也可以经历这样的过程，
一点一点被拆分，最终完全被微服务替代。

好处是这种转变更为渐进，因此在组织现代化的过程中，正常运行时间和可用性基本不受影响。

缺点？速度。

## The Lego strategy 乐高策略

如果说你不想完全摒弃单例模式（不可抗力），那乐高策略会是你想要的。

Kong（微服务网关）就采用这种模式，这种策略是一种决绝未来问题的策略，只有你所增加的新特性才是微服务化的。
老的单体应用不会有任何形式上的变动。这种方式可能带来一定的开发风险：不断增长的技术债，新老版本代码的切换，和维护成本。

## The nuclear weapon 核武器

如果你的单体服务挂了，完完全全不可用，起不来，也还原不了。
那你就只能采用包破式的策略了。你将完全从单体服务切换过来，这其实也是十分冒险的一件事情。
因为微服务架构的替换对用户来说不可见，好的架构也不可能带来更多的用户。
反正这是一种推翻重来的实现策略，慎重。

## 总结

其实整个翻译过来，我觉得内容还是有点水的。毕竟外国人喜欢一个概念重复好几遍。
总之，三个策略，本质上是对改造的速度、深度、复杂度做一个权衡。


